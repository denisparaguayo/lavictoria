---
import { siteConfig } from '../config/siteConfig.js';
const title = Astro.props.title ?? siteConfig.meta.defaultTitle;
const description =
	Astro.props.description ?? siteConfig.meta.defaultDescription;
const url = siteConfig.url;
const image = siteConfig.meta.ogImage;

// JSON-LD objects
const websiteLd = {
	'@context': 'https://schema.org',
	'@type': 'WebSite',
	name: siteConfig.name,
	url,
	description,
	inLanguage: 'es',
	publisher: { '@type': 'Organization', name: siteConfig.name },
	potentialAction: {
		'@type': 'SearchAction',
		target: `${url}/buscar?q={search_term_string}`,
		'query-input': 'required name=search_term_string',
	},
};

const businessLd = {
	'@context': 'https://schema.org',
	'@type': 'HomeAndConstructionBusiness',
	name: siteConfig.name,
	url,
	image,
	description,
	address: {
		'@type': 'PostalAddress',
		addressLocality: siteConfig.contact.address || 'Asunci√≥n',
		addressCountry: 'PY',
	},
	telephone: siteConfig.contact.phone,
	areaServed: { '@type': 'Country', name: 'Paraguay' },
	sameAs: [siteConfig.social.instagram, siteConfig.social.facebook].filter(
		Boolean
	),
	openingHoursSpecification: [
		{
			'@type': 'OpeningHoursSpecification',
			dayOfWeek: [
				'Monday',
				'Tuesday',
				'Wednesday',
				'Thursday',
				'Friday',
				'Saturday',
			],
			opens: '08:00',
			closes: '18:00',
		},
	],
	contactPoint: {
		'@type': 'ContactPoint',
		telephone: siteConfig.contact.phone,
		contactType: 'customer service',
		availableLanguage: ['es'],
	},
};
---

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>{title}</title>
	<meta name="description" content={description} />

	<!-- Open Graph -->
	<meta property="og:type" content="website" />
	<meta property="og:title" content={title} />
	<meta property="og:description" content={description} />
	<meta property="og:image" content={image} />
	<meta property="og:url" content={url} />

	<!-- Twitter -->
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content={title} />
	<meta name="twitter:description" content={description} />
	<meta name="twitter:image" content={image} />

	<!-- Canonical -->
	<link rel="canonical" href={url} />

	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link
		href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap"
		rel="stylesheet"
	/>

	<link rel="icon" href="/favicon.ico" />

	<!-- JSON-LD Structured Data -->
	<script type="application/ld+json" set:html={JSON.stringify(websiteLd)} />
	<script type="application/ld+json" set:html={JSON.stringify(businessLd)} />
</head>
